<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>File storage in HPCC | HPCC Platform</title>
    <meta name="description" content="The HPCC-Platform from hpccsystems is an open source system for big data analysis. It uses a single language, platform and architecture to process data efficiently and fast.">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/HPCC-Platform/assets/style.DC-OUqe1.css" as="style">
    <link rel="preload stylesheet" href="/HPCC-Platform/vp-icons.css" as="style">
    
    <script type="module" src="/HPCC-Platform/assets/app.aEfcjiqR.js"></script>
    <link rel="preload" href="/HPCC-Platform/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/HPCC-Platform/assets/chunks/theme.BUs0DEM6.js">
    <link rel="modulepreload" href="/HPCC-Platform/assets/chunks/framework.Do1Zayaf.js">
    <link rel="modulepreload" href="/HPCC-Platform/assets/helm_hpcc_docs_storage.md.0CNXgA2Y.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/HPCC-Platform/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>HPCC Platform</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/HPCC-Platform/devdoc/README.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Getting Started</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://hpccsystems.com" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>hpccsystems.com</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://hpccsystems.com/download/release-notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Changelog</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hpcc-systems/HPCC-Platform" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/company/hpcc-systems/home" aria-label="linkedin" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://twitter.com/hpccsystems" aria-label="twitter" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-twitter"></span></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/hpccsystems" aria-label="facebook" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-facebook"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/user/HPCCSystems" aria-label="youtube" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-youtube"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hpcc-systems/HPCC-Platform" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/company/hpcc-systems/home" aria-label="linkedin" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://twitter.com/hpccsystems" aria-label="twitter" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-twitter"></span></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/hpccsystems" aria-label="facebook" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-facebook"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/user/HPCCSystems" aria-label="youtube" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-youtube"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>General</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/README.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Development.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Development Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/StyleGuide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>C++ Style Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/ecllibrary/StyleGuide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>ECL Style Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeSubmissions.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Submission Guidelines</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeReviews.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Review Guidelines</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/DevDocs.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Writing Developer Documentation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/userdoc/README.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>User Guides</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/UserBuildAssets.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Build on Github Actions</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Other</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Workunits.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Workunit Workflow</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeGenerator.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Generator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/roxie.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Roxie</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/MemoryManager.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Memory Manager</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Metrics.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Metrics</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/DevTestWithLDAP.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Development Testing With LDAP</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _HPCC-Platform_helm_hpcc_docs_storage" data-v-e6f2a212><div><h1 id="file-storage-in-hpcc" tabindex="-1">File storage in HPCC <a class="header-anchor" href="#file-storage-in-hpcc" aria-label="Permalink to &quot;File storage in HPCC&quot;">​</a></h1><p>The &#39;storage&#39; section of the values.yaml file configures the locations that HPCC stores all categories of data. Most of that configuration is provided within the list of storage planes. Each plane has 3 required fields - name, category and prefix. E.g. the following simplified list:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>storage:</span></span>
<span class="line"><span>  planes:</span></span>
<span class="line"><span>  - name: dali</span></span>
<span class="line"><span>    category: dali</span></span>
<span class="line"><span>    prefix: &quot;/var/lib/HPCCSystems/dalistorage&quot;</span></span>
<span class="line"><span>  - name: dll</span></span>
<span class="line"><span>    category: dll</span></span>
<span class="line"><span>    prefix: &quot;/var/lib/HPCCSystems/queries&quot;</span></span>
<span class="line"><span>  - name: primarydata</span></span>
<span class="line"><span>    category: data</span></span>
<span class="line"><span>    prefix: &quot;/var/lib/HPCCSystems/hpcc-data&quot;</span></span></code></pre></div><h2 id="name" tabindex="-1">name <a class="header-anchor" href="#name" aria-label="Permalink to &quot;name&quot;">​</a></h2><p>The &#39;name&#39; property is used to identify the storage plane in the helm charts. It is also visible to the user - to identify a storage location within eclwatch or ECL code. The name must be unique and must not include upper-case characters. It loosely corresponds to a cluster in the bare-metal version of the platform.</p><h2 id="category" tabindex="-1">category <a class="header-anchor" href="#category" aria-label="Permalink to &quot;category&quot;">​</a></h2><p>&#39;category&#39; is used to indicate the kind of data that is being stored in that location. Different planes are used for the different categories to isolate the different types of data from each other, but also because they often require different performance characteristics. A named plane may only store one category of data. The following categories are currently supported (with some notes about performance characteristics:</p><ul><li>data<br> Where are data files generated by HPCC stored? For Thor, storage costs are likely to be significant. Sequential access speed is important, but random access is much less so. For roxie speed of random access is likely to be important.</li><li>lz<br> A landing zone where external users can read and write files. The HPCC system can import from or export files to a landing zone. Typically performance is less of an issue, could be blob/s3 bucket storage - accessed either directly or via an NFS mount.</li><li>dali<br> The location of the dali metadata store. Needs to support fast random access.</li><li>dll<br> Where are the compiled ECL queries stored? The storage needs to allow shared objects to be directly loaded from it efficiently.</li><li>sasha<br> Location to store archived workunits, etc. Typically less speed critical and requires lower storage costs.</li><li>spill (optional)<br> Where are spill files from thor written? Local NVMe disks are potentially a good choice.</li><li>temp (optional)<br> Where are temporary files written?</li></ul><p>Currently temp and spill are not completely implemented, but will be in future point releases. It is likely that other categories will be added in the future (for example, a location to store inter-subgraph spills).</p><h2 id="prefix" tabindex="-1">prefix <a class="header-anchor" href="#prefix" aria-label="Permalink to &quot;prefix&quot;">​</a></h2><p>The most common case is where this defines the path within the container that the storage is mounted. In the example above they are all sub-directories of /var/lib/HPCCSystems.</p><p>HPCC also allows some file systems to be accessed through a url syntax. For instance the following landing zone uses azure blob storage:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>storage:</span></span>
<span class="line"><span>  planes:</span></span>
<span class="line"><span>  - name: azureblobs</span></span>
<span class="line"><span>    prefix: &quot;azure://ghallidayblobs@data&quot;</span></span>
<span class="line"><span>    category: lz</span></span></code></pre></div><h1 id="how-is-storage-associated-with-a-storage-plane" tabindex="-1">How is storage associated with a storage plane? <a class="header-anchor" href="#how-is-storage-associated-with-a-storage-plane" aria-label="Permalink to &quot;How is storage associated with a storage plane?&quot;">​</a></h1><p>So far we have seen the properties that describe how the HPCC application views the storage, but how does Kubernetes associate those definitions with physical storage?</p><h2 id="ephemeral-storage-storageclass-storagesize" tabindex="-1">Ephemeral storage: (storageClass, storageSize) <a class="header-anchor" href="#ephemeral-storage-storageclass-storagesize" aria-label="Permalink to &quot;Ephemeral storage: (storageClass, storageSize)&quot;">​</a></h2><p>Ephemeral storage is allocated when the HPCC cluster is installed and deleted when the chart is uninstalled. It is useful for providing a clean system for testing and for a demonstration system to allow you to experiment with the system. It is not so useful for production systems - for this reason the helm chart generates a warning if it is used.</p><ul><li><p>storageClass:<br> Which storage provisioner should be used to allocate the storage? A blank storage class indicates it should use the default provisioner.</p></li><li><p>storageSize:<br> How much memory is required for this storage?</p></li></ul><p>E.g. An ephemeral data plane:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  planes:</span></span>
<span class="line"><span>  - name: data</span></span>
<span class="line"><span>    storageClass: &quot;&quot;</span></span>
<span class="line"><span>    storageSize: 1Gi</span></span>
<span class="line"><span>    prefix: &quot;/var/lib/HPCCSystems/hpcc-data&quot;</span></span>
<span class="line"><span>    category: data</span></span></code></pre></div><p>And to add an ephemeral landing zone (which you can upload files to via eclwatch) you could use:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  planes:</span></span>
<span class="line"><span>  - name: mylandingzone</span></span>
<span class="line"><span>    storageClass: &quot;&quot;</span></span>
<span class="line"><span>    storageSize: 1Gi</span></span>
<span class="line"><span>    prefix: &quot;/var/lib/HPCCSystems/mylandingzone&quot;</span></span>
<span class="line"><span>    category: lz</span></span></code></pre></div><h2 id="persistent-storage-pvc" tabindex="-1">Persistent storage (pvc) <a class="header-anchor" href="#persistent-storage-pvc" aria-label="Permalink to &quot;Persistent storage (pvc)&quot;">​</a></h2><p>For persistent storage, the hpcc cluster uses persistent volume claims that have already been created by installing another Kubernetes chart. Using a pvc allows the lifetime of the data stored on those volumes to be longer than the lifetime of the HPCC cluster that uses them. The helm/examples directory contains charts to simplify defining persistent storage for a local machine, azure, aws etc.</p><ul><li>pvc<br> The pvc property names a Persistent Volume Claim created by another chart.</li></ul><h1 id="default-storage-planes" tabindex="-1">Default storage planes <a class="header-anchor" href="#default-storage-planes" aria-label="Permalink to &quot;Default storage planes&quot;">​</a></h1><p>The values file can contain more than one storage plane definition for each category. The first storage plane in the list for each category is used as the default location to store that category of data.</p><p>That default can be overridden on each component by specifying a property with the name &quot;&lt;category&gt;Plane&quot;. For example, to override the default dali storage plane to use daliPlane:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>eclagent:</span></span>
<span class="line"><span>- name: hthor</span></span>
<span class="line"><span>  prefix: hthor</span></span>
<span class="line"><span>  dataPlane: premium-data               # override the default data plane</span></span>
<span class="line"><span>dali:</span></span>
<span class="line"><span>- name: mydali</span></span>
<span class="line"><span>  daliPlane: primary-dali-plane         # override the plane to store the dali data</span></span></code></pre></div><p>It is also possible to override the target storage plane by using the PLANE options on an OUTPUT statement in the ECL language. This allows the ECL programmer to write data to different storage planes depending on how the data is going to be used. The engines can read data from any of the data planes.</p><h1 id="other-storage-planes-options" tabindex="-1">Other storage.planes options <a class="header-anchor" href="#other-storage-planes-options" aria-label="Permalink to &quot;Other storage.planes options&quot;">​</a></h1><ul><li><p>forcePermissions: &lt;boolean&gt;<br> In some situations the default permissions for the mounted volumes do not allow the hpcc user to write to the storage. Setting this option ensures the ownership of the volume is changed before the main process is started.</p></li><li><p>subPath: &lt;string&gt;<br> This property provides an optional sub-directory within &lt;prefix&gt; to use as the root directory. Most of the time the different categories of data will be stored in different locations and this option is not needed. However, if there is a requirement to store two categories of data in the same location, then it is legal to have two storage planes use the same prefix/path and different categories as long as the rest of the plane definitions are identical (except for the name and the subPath). The subPath property allows the data to reside in separate directories so they cannot clash.</p></li><li><p>secret: &lt;string&gt;<br> This provides the name of any secret that is required to access the plane&#39;s storage. It it currently unused, but may be required once inter-cluster remote file access is finished.</p></li><li><p>defaultSprayParts: &lt;number&gt;<br> Earlier we commented that storage planes are similar to clusters in bare-metal. One key difference is that bare-metal clusters are associated with a fixed size thor, whereas a storage plane is not. This property allows you to define the number of parts that a file is split into when it is imported/sprayed. The default is the size of the largest thor cluster.</p></li><li><p>cost:<br> This property allows you to specify the costs associated with the storage so that the platform can calculate an estimate of the costs associated with each file. Currently only the cost at rest is supported, transactional costs will be added later. E.g.</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>      cost:</span></span>
<span class="line"><span>        storageAtRest: 0.113                # Storage at rest cost: cost per GiB/month</span></span></code></pre></div><h1 id="bare-metal-storage" tabindex="-1">Bare metal storage <a class="header-anchor" href="#bare-metal-storage" aria-label="Permalink to &quot;Bare metal storage&quot;">​</a></h1><p>There are two aspects to using bare-metal storage in the Kubernetes system. The first is the &#39;hostGroups&#39; entry in the storage section which provides named lists of hosts. The hostGroups entries can take one of two forms:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>storage:</span></span>
<span class="line"><span>  hostGroups:</span></span>
<span class="line"><span>  - name: &quot;The name of the host group process&quot;</span></span>
<span class="line"><span>    hosts: [ &quot;a list of host names&quot; ]</span></span></code></pre></div><p>This is the most common form, and directly associates a list of host names with a name. The second form:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>storage:</span></span>
<span class="line"><span>  hostGroups:</span></span>
<span class="line"><span>  - name: &quot;The name of the host group process&quot;</span></span>
<span class="line"><span>    hostGroup: &quot;Name of the hostgroup to create a subset of&quot;</span></span>
<span class="line"><span>    count: &quot;Number of hosts in the subset&quot;</span></span>
<span class="line"><span>    offset: &quot;the first host to include in the subset&quot;</span></span>
<span class="line"><span>    delta:  &quot;Cycle offset to apply to the hosts&quot;</span></span></code></pre></div><p>allows one host group to be derived from another. Some typical examples with bare-metal clusters are smaller subsets of the host, or the same hosts, but storing different parts on different nodes. E.g.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>storage:</span></span>
<span class="line"><span>  hostGroups:</span></span>
<span class="line"><span>  - name: groupABCDE              # Explicit list of hosts</span></span>
<span class="line"><span>    hosts: [A, B, C, D, E]</span></span>
<span class="line"><span>  - name groupCDE                 # Subset of the group last 3 hosts</span></span>
<span class="line"><span>    hostGroup: groupABCDE</span></span>
<span class="line"><span>    count: 3</span></span>
<span class="line"><span>    offset: 2</span></span>
<span class="line"><span>  - name groupDEC                 # Same set of hosts, but different part-&gt;host mapping</span></span>
<span class="line"><span>    hostGroup: groupCDE</span></span>
<span class="line"><span>    delta: 1</span></span></code></pre></div><p>The second aspect is to add a property to the storage plane definition to indicate which hosts are associated with it.</p><p>There are two options:</p><ul><li>hostGroup: &lt;name&gt;<br> The name of the host group for bare metal. For historical reasons the name of the hostgroup must match the name of the storage plane.</li><li>hosts: &lt;list-of-namesname&gt;<br> An inline list of hosts. Primarily useful for defining one-off external landing zones.</li></ul><p>For example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>storage:</span></span>
<span class="line"><span>  planes:</span></span>
<span class="line"><span>  - name: demoOne</span></span>
<span class="line"><span>    category: data</span></span>
<span class="line"><span>    prefix: &quot;/home/gavin/temp&quot;</span></span>
<span class="line"><span>    hostGroup: groupABCD             # The name of the hostGroup</span></span>
<span class="line"><span>  - name: myDropZone</span></span>
<span class="line"><span>    category: lz</span></span>
<span class="line"><span>    prefix: &quot;/home/gavin/mydropzone&quot;</span></span>
<span class="line"><span>    hosts: [ &#39;mylandingzone.com&#39; ]  # Inline reference to an external host.</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/hpcc-systems/HPCC-Platform/edit/master/helm/hpcc/docs/storage.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>Last Updated: <time datetime="2025-09-18T12:52:30.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/HPCC-Platform/devdoc/README.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>Getting Started</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>Released under the Apache-2.0 License.</p><p class="copyright" data-v-566314d4>Copyright © 2023-present hpccsystems.com</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"build_me.md\":\"CZz-Z4wD\",\"build_utils_builds_file_transfer_readme.md\":\"D0eeDZe9\",\"cmake_modules_documentation.md\":\"RaHtjYvC\",\"dali_sasha_sasha.md\":\"Wb7Ieq6F\",\"devdoc_buildworkflows.md\":\"CnLfNA06\",\"devdoc_codegenerator.md\":\"DLUFMCs4\",\"devdoc_codereviews.md\":\"clvOQW2K\",\"devdoc_codesubmissions.md\":\"BOBl2Do3\",\"devdoc_dali.md\":\"Be233yVM\",\"devdoc_devdocs.md\":\"BK6ebi0C\",\"devdoc_developerdocs.md\":\"5pEbovE6\",\"devdoc_development.md\":\"BN-3o1Bn\",\"devdoc_devtestwithldap.md\":\"zWeyJBOM\",\"devdoc_docs_contributedocs.md\":\"C9qHmwls\",\"devdoc_docs_doctemplate.md\":\"BY92nJs7\",\"devdoc_docs_hpccstyleguide.md\":\"DLA14W4d\",\"devdoc_docs_logcostmitigation.md\":\"CAleViwQ\",\"devdoc_endusers.md\":\"C7hd2kui\",\"devdoc_esdlfunctions.md\":\"CXZDxpqQ\",\"devdoc_gitauthenticate.md\":\"DMvu6Ejf\",\"devdoc_helmreadmes.md\":\"D0799K7j\",\"devdoc_indexformats.md\":\"BGi0wPBg\",\"devdoc_ldapsecuritymanager.md\":\"DwdhKlgl\",\"devdoc_memorymanager.md\":\"C9JUzZPd\",\"devdoc_metrics.md\":\"BBKkInHr\",\"devdoc_newactivity.md\":\"CFMLrb_E\",\"devdoc_newfileprocessing.md\":\"Ke5Uq7Yd\",\"devdoc_operations.md\":\"CDMA8SYp\",\"devdoc_optimizingroxiequeryperformance.md\":\"Ci4zar6L\",\"devdoc_readme.md\":\"JfIMsUms\",\"devdoc_roxie.md\":\"DBuKSRVc\",\"devdoc_securityconfig.md\":\"BuiHLJnR\",\"devdoc_securityuserauthentication.md\":\"CGRDaG2X\",\"devdoc_styleguide.md\":\"Dr9aem3W\",\"devdoc_testworkflows.md\":\"HVggaK7z\",\"devdoc_userbuildassets.md\":\"EKbu82A6\",\"devdoc_userdoc_azure_tipsandtricks.md\":\"DoH16JEt\",\"devdoc_userdoc_azuretipstricks.md\":\"D2eG5TAo\",\"devdoc_userdoc_blogs.md\":\"C7jZaOnM\",\"devdoc_userdoc_copilot_copilotprompttips.md\":\"DMNAk_nb\",\"devdoc_userdoc_readme.md\":\"DgwZdYAY\",\"devdoc_userdoc_roxie_faq.md\":\"CangeGc3\",\"devdoc_userdoc_troubleshoot_clientstoolissues.md\":\"-8syckAn\",\"devdoc_userdoc_wikiguidelines.md\":\"05yv9iO3\",\"devdoc_versionsupport.md\":\"CY_jBFyV\",\"devdoc_workunits.md\":\"yp-KxbkA\",\"dockerfiles_readme.md\":\"BAnHB0p8\",\"docs_documentation.md\":\"DHLrgcmY\",\"ecl_ecl-bundle_documentation.md\":\"p0Y00JlG\",\"ecllibrary_styleguide.md\":\"B0tOSOEJ\",\"helm_examples_azure_log-analytics_readme.md\":\"DfOITPaJ\",\"helm_examples_azure_readme.md\":\"Cpk8Fpfc\",\"helm_examples_azure_sa_readme.md\":\"C8ZXiDyO\",\"helm_examples_certmanager_readme.md\":\"DNt6gLii\",\"helm_examples_efs_readme.md\":\"CQ7QjMMt\",\"helm_examples_esdl-sandbox_readme.md\":\"CWoHSsPj\",\"helm_examples_esdl_readme.md\":\"-c2JQs9o\",\"helm_examples_esp_readme.md\":\"D2cvfEhO\",\"helm_examples_filestore_hpcc-filestore_readme.md\":\"CfmMBS94\",\"helm_examples_fsx_readme.md\":\"DEFHiZvL\",\"helm_examples_ldap_readme.md\":\"Dmg0cadG\",\"helm_examples_local_hpcc-localfile_readme.md\":\"C6Th5ePs\",\"helm_examples_logging_azure_readme.md\":\"tPICiczt\",\"helm_examples_logging_elastic_readme.md\":\"lzpS_Z0v\",\"helm_examples_logging_readme.md\":\"BphCqdiA\",\"helm_examples_metrics_readme.md\":\"B1l8e5lW\",\"helm_examples_nfs_hpcc-nfs_readme.md\":\"NWYiYWAT\",\"helm_examples_scaling_readme.md\":\"CdAtuQat\",\"helm_examples_secrets_readme-kubernetessecrets.md\":\"Dw2jTiYM\",\"helm_examples_secrets_readme-vault_secrets_using_kubernetes_authentication.md\":\"wOvirWcB\",\"helm_examples_secrets_readme-vaultsecretsusingapprolevaultauthentication.md\":\"Be_96mHX\",\"helm_examples_secrets_readme-vaultsecretsusingclientcertvaultauthentication.md\":\"CGxounOu\",\"helm_examples_tracing_readme.md\":\"DXLLtqSc\",\"helm_examples_vault-pki-remote_readme-vault-pki.md\":\"DN39EgD_\",\"helm_hpcc_docs_changes.md\":\"DoY_T0jK\",\"helm_hpcc_docs_expert.md\":\"tdJdwtu7\",\"helm_hpcc_docs_placements.md\":\"BOoh01FY\",\"helm_hpcc_docs_storage.md\":\"0CNXgA2Y\",\"helm_managed_logging_elastic_readme.md\":\"Bp4aQzQW\",\"helm_managed_logging_loki-stack_readme.md\":\"hTYbb-G7\",\"helm_managed_logging_readme.md\":\"CIy2FjGN\",\"helm_managed_metrics_prometheus_readme.md\":\"CZjbP-5B\",\"helm_managed_metrics_readme.md\":\"DG1fUG9g\",\"helm_managed_observability_eck_readme.md\":\"CLH_p9gp\",\"helm_managed_readme.md\":\"Djx531vv\",\"index.md\":\"COQUfNmW\",\"initfiles_bash_etc_systemd_system_readme.md\":\"DNKKHx1i\",\"initfiles_documentation.md\":\"4ss7JrA3\",\"initfiles_examples_esdlexample_basicroxie_readme.md\":\"qLCmblmj\",\"initfiles_examples_esdlexample_cppplugin_readme.md\":\"lN4W0Xv9\",\"initfiles_examples_esdlexample_javaplugin_readme.md\":\"C0IbwKZl\",\"initfiles_examples_esdlexample_manifest_readme.md\":\"CDXvTzp-\",\"initfiles_examples_esdlexample_mysqlservice_readme.md\":\"CisXlIxl\",\"initfiles_examples_esdlexample_readme.md\":\"vZJuxWAm\",\"initfiles_examples_resultcompare_readme.md\":\"D_NIYVp0\",\"plugins_couchbase_readme.md\":\"CxQgXY49\",\"plugins_eclblas_readme.md\":\"uYFz80Qe\",\"plugins_exampleplugin_readme.md\":\"umKuz04z\",\"plugins_h3_readme.md\":\"g7YwRvkw\",\"plugins_javaembed_javaembedoptions.md\":\"7cHYrcg4\",\"plugins_kafka_readme.md\":\"Cf2vtyuY\",\"plugins_memcached_readme.md\":\"45wxrSnV\",\"plugins_mongodb_readme.md\":\"6amTJ2f2\",\"plugins_nlp_readme.md\":\"eQ9peeSJ\",\"plugins_parquet_readme.md\":\"C_QTTY8G\",\"plugins_phonenumber_readme.md\":\"DfEIT5H-\",\"plugins_redis_readme.md\":\"DtgX27jF\",\"plugins_sqs_readme.md\":\"DUAEclCz\",\"readme.md\":\"CJ_HIorZ\",\"system_httplib_readme.md\":\"DfxVg3pK\",\"system_masking_include_readme.md\":\"f5J5vM1o\",\"system_masking_plugins_datamasker_readme.md\":\"Cd7YcLMs\",\"system_security_plugins_jwtsecurity_readme.md\":\"BDZbXWMe\",\"testing_regress_cleanupreadme.md\":\"CWkxBili\",\"testing_regress_ecl_analyzers_corporate_tmp_readme.md\":\"Dbi2Bz6G\",\"testing_regress_ecl_readme.md\":\"CaWPrnkk\",\"tools_esdlcmd_readme.md\":\"DmtOi4Et\",\"tools_esp-api_readme.md\":\"DcKHlNuB\",\"tools_tagging_readme.md\":\"BV_TgxCn\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"HPCC Platform\",\"description\":\"The HPCC-Platform from hpccsystems is an open source system for big data analysis. It uses a single language, platform and architecture to process data efficiently and fast.\",\"base\":\"/HPCC-Platform/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/hpcc-systems/HPCC-Platform/edit/master/:path\",\"text\":\"Edit this page on GitHub\"},\"lastUpdated\":{\"text\":\"Last Updated\"},\"nav\":[{\"text\":\"Getting Started\",\"link\":\"/devdoc/README\"},{\"text\":\"hpccsystems.com\",\"link\":\"https://hpccsystems.com\"},{\"text\":\"Changelog\",\"link\":\"https://hpccsystems.com/download/release-notes/\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hpcc-systems/HPCC-Platform\"},{\"icon\":\"linkedin\",\"link\":\"https://www.linkedin.com/company/hpcc-systems/home\"},{\"icon\":\"twitter\",\"link\":\"https://twitter.com/hpccsystems\"},{\"icon\":\"facebook\",\"link\":\"https://www.facebook.com/hpccsystems\"},{\"icon\":\"youtube\",\"link\":\"https://www.youtube.com/user/HPCCSystems\"}],\"sidebar\":[{\"text\":\"General\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/devdoc/README\"},{\"text\":\"Development Guide\",\"link\":\"/devdoc/Development\"},{\"text\":\"C++ Style Guide\",\"link\":\"/devdoc/StyleGuide\"},{\"text\":\"ECL Style Guide\",\"link\":\"/ecllibrary/StyleGuide.html\"},{\"text\":\"Code Submission Guidelines\",\"link\":\"/devdoc/CodeSubmissions\"},{\"text\":\"Code Review Guidelines\",\"link\":\"/devdoc/CodeReviews\"},{\"text\":\"Writing Developer Documentation\",\"link\":\"/devdoc/DevDocs\"},{\"text\":\"User Guides\",\"link\":\"/devdoc/userdoc/README\"},{\"text\":\"Build on Github Actions\",\"link\":\"/devdoc/UserBuildAssets\"}]},{\"text\":\"Other\",\"items\":[{\"text\":\"Workunit Workflow\",\"link\":\"/devdoc/Workunits\"},{\"text\":\"Code Generator\",\"link\":\"/devdoc/CodeGenerator\"},{\"text\":\"Roxie\",\"link\":\"/devdoc/roxie\"},{\"text\":\"Memory Manager\",\"link\":\"/devdoc/MemoryManager\"},{\"text\":\"Metrics\",\"link\":\"/devdoc/Metrics\"},{\"text\":\"Development Testing With LDAP\",\"link\":\"/devdoc/DevTestWithLDAP\"}]}],\"footer\":{\"message\":\"Released under the Apache-2.0 License.\",\"copyright\":\"Copyright © 2023-present hpccsystems.com\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>